<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Locatie Tracker (Opt-in)</title>
</head>
<body>

<h1>Locatie tracker (met toestemming)</h1>
<button onclick="getLocation()">Deel mijn locatie</button>

<p id="output"></p>

<script>
function getLocation() {
    if (!navigator.geolocation) {
        document.getElementById("output").innerText =
            "Geolocation wordt niet ondersteund.";
        return;
    }

    navigator.geolocation.getCurrentPosition(
        success,
        error,
        {
            enableHighAccuracy: true,
            timeout: 10000
        }
    );
}

function success(position) {
    const lat = position.coords.latitude;
    const lon = position.coords.longitude;
    const acc = position.coords.accuracy;

    document.getElementById("output").innerHTML =
        `Latitude: ${lat}<br>
         Longitude: ${lon}<br>
         Nauwkeurigheid: Â±${acc} meter`;
}

function error(err) {
    document.getElementById("output").innerText =
        "Locatie ophalen mislukt.";
}
</script>

</body>
</html>
